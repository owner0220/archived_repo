- 학습을 위해 글을 올립니다.
- 모든 출처와 저작권은 Geeksforgeeks에 있습니다.

[^출처]: https://www.geeksforgeeks.org/



# 프로세스 동기화_소개2

- **프로세스 동기화**는 공유 데이터를 사용하는 프로세스를 조정하는 데 사용되는 기술이다. 운영 체제에는 두가지 유형의 프로세스가 있다.
  1. 독립 프로세스(Indepentent Process)
     - 프로세스가 실행되는 동안 다른 프로세스에 영향을 미치지 않거나 영향을 받지 않는 프로세스를 독립 프로세스라고 한다.
     - 예시) 공유변수, 데이터 베이스, 파일 등을 공유하지 않는 프로세스
  2. 협력 프로세스(Cooperating Process)
     - 실행 중에 다른 프로세스에 영향을 미치거나 영향을 받는 프로세스를 협력 프로세스라고 한다. 
     - 예시) 파일, 변수, 데이터 베이스 등을 공유하는 프로세스
- 프로세스 동기화는 주로 리소스를 공유하는 협력 프로세스에 사용된다.

![img](https://cdncontribute.geeksforgeeks.org/wp-content/uploads/Race-condition.png)

- 여러 프로세스가 자원에 액세스하여 공유 데이터를 동시에 수정하려고 시도라고 프로세스의 결과가 데이터 불일치로 연결되는 특정 실행 순서에 따라 달라지는 상황을 Race Condition이라고 한다. **동기화** 또는 **프로세스 동기화**를 이용해서 하나의 프로세스 만이 중요 섹션의 공유 데이터를 입력하고 조작할 수 있게 한다.

![img](https://cdncontribute.geeksforgeeks.org/wp-content/uploads/CR_repr.png)

- Entry Section : 다른 많은 프로세스 중에서 Critical Section 특정 프로세스 진입을 결정하는 프로세스의 일부
- Critical Section : 하나의 프로세스만 공유 변수를 입력하고 수정할 수 있는 부분이다. 다른 프로세스가 공유 데이터의 리소스에 액세스 할 수 없도록 한다.
- Exit Section : Entry Section, Critical Section 및 Exit Section을 제외한 코드의 나머지 부분은 Remainder Section으로 알려져 있다.

##### 만족해야 하는 3가지

1. 상호 배제 : 프로세스가 중요 섹션에서 실행 중인 경우 다른 프로세스가 임계 섹션에서 실행되도록 허용하지 않는 것이다.
2. 진행 : 임계 섹션에 프로세스가 없는 경우 실행 요청 외부의 모든 프로세스가 지연 없이 중요한 섹션에 들어갈 수 있다. 요청한 프로세스만 입력하면 프로세스에 참여 할 수 있다.
3. 제한대기(Bounded Waiting) : 프로세스가 크리티컬 섹션으로 들어가기 요청을 한 후 그리고 그 요청이 승인되기 전에 다른 프로세스가 자신의 크리티컬 섹션에 들어가도록 프로세스가 들어가는 횟수에 상한을 만든다.

#### 프로세스 동기화

##### 1. 소프트웨어 접근법

- 소프트웨어 접근법에서는 데이터의 동기화를 유지하기 위해 특정 알고리즘 접근 방식이 사용된다. 접근법 1이나 접근법 2에서와 같이, 두 개의 프로세스에 대해(회전) 또는 부울변수(플래그) 값과 같은 임시 변수가 데이터를 저장하는 데 사용된다. 조건이 True면 대기 중 상태(Busy Waiting State)로 알려진 프로세스이다. 이것은 모든 중요 섹션 요구사항을 충족하지는 않는다.

###### Peterson 알고리즘

![img](https://cdncontribute.geeksforgeeks.org/wp-content/uploads/peterson-1.png)

##### 2. 하드웨어 접근법

- 잠금 및 잠금 해제 기술을 통해 동기화의 하드웨어 접근 방식을 수행할 수 있다. 잠금 부분은 Entry Section에서 수행되므로 하나의 프로세스 만이 Critical Section에 들어가도록 허용되며, 실행이 완료되면 프로세스가 이동된다. 잠금 섹션의 다른 프로세스가 이 실행 프로세스를 반복 할 수 있도록 잠금 해제 작업이 수행되는 종료 섹션으로 이동한다. 이 프로세스는 중요 섹션의 세 가지 조건이 모두 충족 되도록 설계되었다.



![img](https://cdncontribute.geeksforgeeks.org/wp-content/uploads/lock-2.png)

###### 인터럽트 사용

- 인터럽트가 비활성화되면 다른 프로세스는 컨텍스트 전환 작업을 수행 할 수 없으므로 하나의 프로세스만 중요 상태에 들어갈 수 있다.

![img](https://cdncontribute.geeksforgeeks.org/wp-content/uploads/interrupt-1.png)

###### 테스트와 작동 법

- 울린 값(True / False)을 하드웨어 동기화로 허용한다. 즉, 기본적으로 원자적이며 다른 인터럽트는 액세스 할 수 없다. 주로 상호 배제 응용프로그램에서 사용된다. 비교 및 스왑 기능을 통해 비슷한 유형의 작업을 수행할 수 있다. 이 프로세스에서 변수는 잠금 섹션이 ON인 동안 중요 섹션에서 액세스 할 수 있다. 그러면 프로세스는 통화 대기 상태가 된다.

