- 학습을 위해 글을 올립니다.
- 모든 출처와 저작권은 Geeksforgeeks에 있습니다.

[^출처]: https://www.geeksforgeeks.org/



# 프로세스&쓰레드_쓰레드와 그 타입

- 쓰레드는 프로세스 내의 단일 시퀀스 스트림이다. 쓰레드는 프로세스와 동일한 특성을 가지므로 경량 프로세스로 호출된다. 쓰레드는 하나씩 실행되지만 마치 병렬로 실행되는 것 같이 보인다. 각 쓰레드는 서로 다른 상태를 가지는데
   	1. 프로그램 카운터
   	2. 레지스터 세트
   	3. 스택 공간
- 쓰레드는 코드, 데이터, OS 자원 등을 공유하므로 서로 독립적이지 않다.



#### 쓰레드와 프로세스 간의 유사성

- 한 번에 하나의 쓰레드 또는 프로세스 만 활성화 된다.
- 프로세스 내에서 모두 Sequential 실행된다.
- 둘 다 children을 만들 수 있다.



#### 쓰레드와 프로세스의 차이점

- 쓰레드는 독립적이지 않은 프로세스이다.
- 쓰레드는 서로를 돕기 위해 설계되었으며, 프로세스는 그것을 할 수도, 하지 않을 수도 있다.

#### 쓰레드 유형

##### 1. 사용자 수준 쓰레드(ULT)

- 사용자 수준 라이브러리에서 구현되며 시스템 호출을 사용해 만들어지지 않는다. 쓰레드 전환은 OS 호출 하거나 커널에 인터럽트를 발생 시킬 필요가 없다. 커널은 사용자 수준 쓰레드에 대해 알지 못하고 마치 단일 쓰레드 프로세스 인 것처럼 관리한다.
  - ULT 장점
    - 멀티 쓰레딩을 지원하지 않는 OS에서 구현할 수 있다.
    - 쓰레드는 프로그램 카운터, 레지스터 세트, 스택 공간만 가지고 있기 때문에 간단히 구현할 수 있다.
    - 커널의 개입이 없기 때문에 간단히 만들수 있다.
    - OS 호출이 필요 없기 때문에 쓰레드 전환이 빠르다.
  - ULT 단점
    - 쓰레드와 커널간에 조정이 없거나 적다.
    - 한 쓰레드가 페이지 오류를 일으키는 경우 전체 프로세스가 차단된다.

##### 2. 커널 레벨 쓰레드(KLT)

- 커널은 쓰레드를 알고 관리한다. 각 프로세스의 쓰레드 테이블 대신 커널 자체는 시스템의 모든 쓰레드를 추적하는 쓰레드 테이블(마스터 테이블)을 가지고 있다. 또한 커널은 기존 프로세스 테이블을 유지 관리하여 프로세스를 추적한다. OS커널은 쓰레드를 만들고 관리하기 위한 시스템 호출을 제공한다.
  - KLT 장점
    - 커널은 시스템의 스레드에 대한 충분한 지식을 가지고 있기 때문에 스케줄러는 쓰레드 수가 많은 프로세스에 더 많은 시간을 할당하기로 결정할 수 있다.
    - 자주 차단되는 응용프로그램에 적합하다.
  - KLT 단점
    - 느리고 비효율적이다.
    - 쓰레드 제어 블록이 필요하므로 오버 헤드가 된다.

##### 개요:

- 각 ULT에는 쓰레드 테이블을 사용해 스레드를 추적하는 프로세스가 있다.
- 각 KLT에는 쓰레드 테이블(TCB)과 프로세스 테이블(PCB)이 있다.