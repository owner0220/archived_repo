- 학습을 위해 글을 올립니다.
- 모든 출처와 저작권은 Geeksforgeeks에 있습니다.

[^출처]: https://www.geeksforgeeks.org/



# 메모리관리_페이징

- 페이징은 물리적 메모리의 연속 할당을 하지 않고도(실제 주소 공간이 인접하지 않아도) 사용할 수 있도록 해주는 방법이다.

  - 논리 주소 또는 가상 주소(비트 단위) : CPU에 의해 생성된 주소
  - 논리 주소 공간 또는 가상 주소 공간(워드 또는 바이트) : 프로그램이 생성한 모든 논리 주소 집합
  - 물리적 주소(비트 단위) : 메모리 장치에서 실제로 사용가능한 주소
  - 물리적 주소 공간 (워드 또는 바이트) : 논리 주소에 해당하는 모든 물리적 주소 집합

  

**예:**

- 논리 주소 = 31 비트이면 논리 주소 공간 = 2^31 단어 = 2 G 단어 (1 G = 2^30 )
- 논리 주소 공간 = 128 M 단어 = 2^7 * 2^20 단어 인 경우, 논리 주소 = 로그 2 2^27 = 27 비트
- 물리적 주소 = 22 비트이면 물리적 주소 공간 = 2^22 단어 = 4 M 단어 (1 M = 2^20 )
- 물리적 주소 공간 = 16 M 단어 = 2^4 * 2^20 단어의 경우 물리적 주소 = 로그 2 2^24 = 24 비트

가상 주소에서 실제 주소로의 매핑은 하드웨어 장치 인 메모리 관리 장치(MMU)가 수행하며 이 매핑을 페이징 기술이라고 한다.

- 물리적 주소 공간은 개념적으로 **프레임**이라는 고정된 크기의 블록으로 나뉜다.
- 논리적 주소 공간은 고정 된 크기 블록(**페이지**)로 분할된다.

- 페이지 크기 = 프레임 크기



- 물리적 주소 = 12 비트, 물리적 주소 공간 = 4 K 단어
- 논리 주소 = 13 비트, 논리 주소 공간 = 8K 단어
- 페이지 크기 = 프레임 크기 = 1 K 단어 (가정)



![](https://cdncontribute.geeksforgeeks.org/wp-content/uploads/paging.jpg)

- CPU에 의해 생성된 주소는
  - 페이지 번호(p)
    - 논리적 주소 공간 또는 페이지 번호로 페이지를 표현하는 데 필요한 비트 수
  - 페이지 오프셋(d)
    - 페이지의 특정 단어 또는 논리적 주소 공간의 페이지 크기 또는 페이지 또는 페이지 오프셋의 단어 수를 나타내기 위해 필요한 비트 수이다.
- 실제 주소는 다음과 같이 구분된다.
  - 프레임 번호(f)
    - 물리적 주소 공간 또는 프레임 번호의 프레임을 나타 내기 위해 필요한 비트 수이다.
  - 프레임 오프셋(d)
    - 프레임의 특정 단어나 물리적 주소 공간의 프레임 크기 또는 프레임 또는 프레임 오프셋의 단어 번호를 나타내는 데 필요한 비트 수이다.



페이지 테이블의 하드웨어 구현은 전용 레지스터를 사용해 수행 할 수 있다. 그러나 페이지 테이블에 대한 레지스터의 사용은 페이지 테이블이 작은 경우에만 좋다. 페이지 테이블에 많은 수의 항목이 포함되어 있다면 우리는 TLB(Translation Lock-aside buffer)를 사용할 수 있다.

- TLB는 연관, 고속 메모리다.
- TLB의 각 항목은 태그와 값의 두 부분으로 구성된다.
- 이 메모리가 사용될 때 항목은 모든 태그와 동시에 비교 된다. 항목이 발견되면 해당 값이 반환된다.

![](https://cdncontribute.geeksforgeeks.org/wp-content/uploads/paging-2.jpg)

주 메모리 액세스 시간 = m 
페이지 테이블이 주 메모리에 유지되면 
유효 액세스 시간 = m (페이지 테이블의 경우) + m (페이지 테이블의 특정 페이지의 경우)

![save2](https://cdncontribute.geeksforgeeks.org/wp-content/uploads/paging-3.jpg)