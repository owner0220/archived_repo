## 네트워크 장비 L2, L3, L4, L7 스위치

- OSI의 7 레이어 중 어떤 레이어에서 수행되는 가에 따라 정의된 분류이다.



### L2 Switch

- 패킷이 왔을 때 그것의 목적지가 어디인가를 보고 그 목적지로 보내주는 역할만을 한다. 말 그대로 스위치 인데 레벨 2에서 동작하므로 목적지는 Ethernet 주소로 생각하면 된다. 즉, IP 주소가 필요한 외부로 보내줄 수 없다.
- OSI 7 layers에서 2레벨은 data link 레이어로, L2 스위치는  Ethernet  레벨에서 동작할 뿐 그 상위 레이어인 네트워크 레이어에서 동작하는 IP 등을 이해하지 못한다. 다시 말해 IP 주소를 이해하지 못하므로 라우팅이 불가능하다. (Route 라는 것이 외부와 연결되므로 IP 주소를 알아야 하는 것을 기억하자.)



### L3 Switch

- L3 에서는 3 레이어의 프로토콜인 IP 등에서 스위칭을 수행하므로 자신에게 온 패킷의 destination 이 외부에 존재하는 IP 일 경우 그 패킷을 외부에 연결된 라우터로 보내줄 수 있다. 즉 L3 스위치는 라우터 기능도 갖고 있기 때문에 라우터와의 경계가 모호해진다.



### L4 Switch

- L4 에서는 4 레이어의 프로토콜인 TCP/UDP 등에서 스위칭을 수행하므로 TCP와 UDP 등의 헤더를 보고 그것이 FTP 인가 HTTP 인가 SMTP 인가를 보고 어떤 것을 우선시해서 스위칭할지 판단할 수 있다. 즉 로드 밸런싱이 가능해진다는 얘기인데 이는 L3 이하에서는 불가능한 것이다.



### L7 Switch

- L7 스위치는 OSI의 7 레이어 즉 어플리케이션 레이어에서 동작하는 것으로 이를테면 이메일의 제목이나 문자열을 보고 내용을 파악한다거나 HTTP의 URL, 또는 FTP의 파일명, 쿠키 정보, 특정 바이러스의 패턴 등을 분석해서 보안에 더욱 유리하고 더욱 정교한 로드 밸런싱이 가능해진다. 사실 어플리케이션 레벨의 데이터를 다 다룬다는 것은 불가능하고 L7 스위치는 단지 패킷의 내용을 조금 더 참조하여 좀더 똑똑한 결정을 내릴 수 있게 된 것 뿐이다. 쉽게 말해 L7 스위치라는 것은 마케팅용어라고 볼 수 있다.



※ 상위 레벨에서 동작하는 스위치는 자신의 하위 레벨 스위치의 기능을 다 갖고 있다.

예를 들어 L4 스위치는 L3, L2 스위치의 기능도 다 수행할 수 있다.